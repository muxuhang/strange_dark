{"componentChunkName":"component---src-templates-blog-post-js","path":"/4/","result":{"data":{"site":{"siteMetadata":{"title":""}},"markdownRemark":{"id":"018cfd5e-d142-5a23-a80d-8cb9cb0e840a","excerpt":"安装 使用 Bug 1 ：Could not resolve project :react-native-camera. on Android 解决方法：\n    在文件android/app/build.gradle中的 defaultConfig中添加\n missingDimensionStrategy…","html":"<h3>安装</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">npm install react<span class=\"token operator\">-</span>native<span class=\"token operator\">-</span>camera —save\nreact<span class=\"token operator\">-</span>native link react<span class=\"token operator\">-</span>native<span class=\"token operator\">-</span>camera\n\nnpm install react<span class=\"token operator\">-</span>native<span class=\"token operator\">-</span>qrcode<span class=\"token operator\">-</span>scanner react<span class=\"token operator\">-</span>native<span class=\"token operator\">-</span>permissions <span class=\"token operator\">--</span>save\nreact<span class=\"token operator\">-</span>native link react<span class=\"token operator\">-</span>native<span class=\"token operator\">-</span>qrcode<span class=\"token operator\">-</span>scanner\nreact<span class=\"token operator\">-</span>native link react<span class=\"token operator\">-</span>native<span class=\"token operator\">-</span>permissions</code></pre></div>\n<h3>使用</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> QRCodeScanner <span class=\"token keyword\">from</span> \"react<span class=\"token operator\">-</span>native<span class=\"token operator\">-</span>qrcode<span class=\"token operator\">-</span>scanner”<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ScannerScreen</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span><span class=\"token operator\">&lt;</span>ScannerScreenProps<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/**\n  * 扫描成功\n  */</span>\n  <span class=\"token function\">onSuccess</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>Ï\n    console<span class=\"token punctuation\">.</span>tron<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Screen style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">ROOT</span><span class=\"token punctuation\">}</span> preset<span class=\"token operator\">=</span><span class=\"token string\">\"scroll\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>QRCodeScanner\n          showMarker<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span>\n          onRead<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onSuccess</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>QRCodeScanner<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Screen<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h5>Bug 1 ：Could not resolve project :react-native-camera. on Android</h5>\n<p>解决方法：\n在文件android/app/build.gradle中的 defaultConfig中添加\nmissingDimensionStrategy ‘react-native-camera’, ‘general’\nandroid添加权限</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token operator\">&lt;</span><span class=\"token keyword\">uses</span><span class=\"token operator\">-</span>permission android<span class=\"token operator\">:</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"android.permission.VIBRATE\"</span><span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<h5>ios添加权限 info.plis</h5>\n<div class=\"gatsby-highlight\" data-language=\"m\"><pre class=\"language-m\"><code class=\"language-m\">&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;\n&lt;string&gt;Your message to user when the camera is accessed for the first time&lt;/string&gt;\n&lt;!-- Include this only if you are planning to use the camera roll --&gt;\n&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;\n&lt;string&gt;Your message to user when the photo library is accessed for the first time&lt;/string&gt;\n\n&lt;!-- Include this only if you are planning to use the microphone for video recording --&gt;\n&lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;\n&lt;string&gt;Your message to user when the microsphone is accessed for the first time&lt;/string&gt;</code></pre></div>","frontmatter":{"title":"RN 扫码功能","date":"April 21, 2020","description":"react-native android ios react-native-camera"}}},"pageContext":{"slug":"/4/","previous":{"fields":{"slug":"/6/"},"frontmatter":{"title":"react-native 插件"}},"next":{"fields":{"slug":"/3/"},"frontmatter":{"title":"RN header删除下划线"}}}}}