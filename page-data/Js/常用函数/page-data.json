{"componentChunkName":"component---src-templates-blog-post-js","path":"/Js/常用函数/","result":{"data":{"site":{"siteMetadata":{"title":""}},"markdownRemark":{"id":"cb061e17-d53e-56e5-9b70-614d9c53ce93","excerpt":"","html":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 计算时间差</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">getCreateAt</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">date</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> now <span class=\"token operator\">=</span> <span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">var</span> old <span class=\"token operator\">=</span> <span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">var</span> poor <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>now <span class=\"token operator\">-</span> old <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> now <span class=\"token operator\">-</span> old <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">var</span> day <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>poor <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">var</span> hour <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>poor <span class=\"token operator\">/</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">var</span> minutes <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>poor <span class=\"token operator\">/</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span>\n  <span class=\"token comment\">// var seconds = poor % 60</span>\n  <span class=\"token keyword\">var</span> result <span class=\"token operator\">=</span> day\n    <span class=\"token operator\">?</span> day <span class=\"token operator\">+</span> <span class=\"token string\">\"天前\"</span>\n    <span class=\"token operator\">:</span> hour\n    <span class=\"token operator\">?</span> hour <span class=\"token operator\">+</span> <span class=\"token string\">\"小时前\"</span>\n    <span class=\"token operator\">:</span> minutes\n    <span class=\"token operator\">?</span> minutes <span class=\"token operator\">+</span> <span class=\"token string\">\"分钟前\"</span>\n    <span class=\"token operator\">:</span> <span class=\"token string\">\"刚刚\"</span>\n  <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"常用函数","date":"April 01, 2022","description":"常用,filter.wxs"}}},"pageContext":{"slug":"/Js/常用函数/","previous":{"fields":{"slug":"/Html/字体加载/"},"frontmatter":{"title":"判断引入字体加载完成"}},"next":{"fields":{"slug":"/Js/正则校验/"},"frontmatter":{"title":"正则校验"}}}},"staticQueryHashes":["1246554614","2841359383"]}